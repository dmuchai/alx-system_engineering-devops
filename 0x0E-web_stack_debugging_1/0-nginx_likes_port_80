#!/usr/bin/env bash
# This script ensures that Nginx is running and listening on port 80

# Step 1: Ensure the Nginx configuration is correct
nginx_conf="/etc/nginx/sites-available/default"

# Modify the Nginx configuration to listen on port 80
sed -i 's/# listen 80 default_server;/listen 80 default_server;/' $nginx_conf
sed -i 's/# listen \[::\]:80 default_server;/listen [::]:80 default_server;/' $nginx_conf

# Step 2: Restart Nginx to apply changes
systemctl restart nginx

# Step 3: Open port 80 on the firewall (if using UFW)
ufw allow 80/tcp

# Step 4: Check Nginx status to confirm it's listening on port 80
ss -tuln | grep ':80'

# Final confirmation if Ngin
